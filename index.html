<!DOCTYPE html>
<html lang="en">
<head>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring-25 Midterm Schedule</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf_viewer.min.css" integrity="sha512-LnIHwkpDAvB3nEJD2vvPlsPo54cLhjhiwHzU1UqRJZH5/JbCRRVhDlf5gBc/O7fuHgJUW0MJQpjQ/8Z4cyVPXw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Add favicon -->
    <link href="data:image/x-icon;base64,AAABAAEAEBACAAAAAACwAAAAFgAAACgAAAAQAAAAIAAAAAEAAQAAAAAAQAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAA/4QAAMxjAADMYwAA/GMAAMxjAADMawAAMHcAADBjAAAAAAAA+AAAAMBmAADAPAAA+BgAAMAYAADAPAAA+GYAAAAAAAAznAAAM5wAAAOcAAAznAAAM5QAAM+IAADPnAAA//8AAAf/AAA/mQAAP8MAAAfnAAA/5wAAP8MAAAeZAAD//wAA" rel="icon" type="image/x-icon">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Additional inline styles */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }
        .toast {
            padding: 12px; /* Reduced from 16px */
            border-radius: 6px; /* Reduced from 8px */
            margin-bottom: 8px; /* Reduced from 10px */
            min-width: 240px; /* Reduced from 280px */
            font-size: 0.875rem; /* Added smaller font size */
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transform: translateX(100%);
            animation: slideIn 0.2s forwards, fadeOut 0.5s 2s forwards; /* Reduced total duration from 3.3s to 2.2s */
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        @keyframes slideIn {
            to { transform: translateX(0); }
        }
        @keyframes fadeOut {
            to { opacity: 0; }
        }
        .success {
            background-color: rgba(52, 211, 153, 0.9);
            color: white;
        }
        .error {
            background-color: rgba(239, 68, 68, 0.9);
            color: white;
        }
        .info {
            background-color: rgba(59, 130, 246, 0.9);
            color: white;
        }
        /* Custom dropdown styling */
        .custom-select {
            position: relative;
        }
        .custom-select .options {
            display: none;
            position: absolute;
            background-color: white;
            max-height: 200px;
            overflow-y: auto;
            border-radius: 6px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 1000;
            width: 100%;
        }
        .custom-select .option {
            padding: 8px 12px;
            cursor: pointer;
        }
        .custom-select .option:hover {
            background-color: #f3f4f6;
        }
        /* Mobile optimizations */
        @media (max-width: 640px) {
            input, button, select {
                font-size: 16px; /* Prevents iOS zoom on focus */
                height: 44px; /* More touch-friendly */
            }
            .table-container {
                margin: 0 -16px; /* Negative margin to allow table to be wider than container on mobile */
            }
        }
        /* Add specific styling for sections datalist */
        .section-input-container {
            position: relative;
            width: 100%;
        }

        /* Footer styling */
        .footer {
            background-color: rgba(30, 58, 138, 0.7);
            padding: 8px 0;
            margin-top: 20px;
            backdrop-filter: blur(5px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .footer a {
            color: #fcd34d; /* Yellow color matching the buttons */
        }
        .footer a:hover {
            color: white;
        }

        /* Add padding to body to prevent footer overlap */
        body {
            padding-bottom: 50px;
        }

        /* Input row styling for all screen sizes */
        .input-row {
            display: flex;
            flex-direction: row;
            width: 100%;
            margin-bottom: 8px;
            gap: 4px; /* Use gap for consistent spacing */
        }
        .input-row .course-code {
            flex: 2;
        }
        .input-row .section {
            flex: 1;
        }
        .input-row .add-course {
            flex: 1;
        }

        /* Dropdown improvements */
        .dropdown {
            position: absolute;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            z-index: 9999;
            max-height: 12rem;
            overflow-y: auto;
            width: 100%;
            color: #1f2937; /* Add dark text color */
        }
        .dropdown-option {
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            color: #1f2937; /* Ensure text is visible */
        }
        .dropdown-option:hover {
            background-color: #fef3c7;
        }
        .dropdown-option.active {
            background-color: #fde68a;
        }
        .dropdown-option.disabled {
            color: #9ca3af;
            cursor: default;
        }
        /* Scrollbar styling */
        .dropdown::-webkit-scrollbar {
            width: 6px;
        }
        .dropdown::-webkit-scrollbar-track {
            background: #f3f4f6;
        }
        .dropdown::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 3px;
        }
    </style>
    <script defer data-domain="bracu-exam-routine.itzmrz.xyz" src="https://plausible.io/js/script.outbound-links.js"></script>
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
  (function() {
    // Detect Facebook/Messenger in-app browsers
    var ua = navigator.userAgent || navigator.vendor || window.opera;
    var isFacebookBrowser = (ua.indexOf("FBAN") > -1) || (ua.indexOf("FBAV") > -1);
    var isMessengerBrowser = (ua.indexOf("MessengerForiOS") > -1) || (ua.indexOf("Messenger") > -1);

    // If detected, redirect to external browser
    if (isFacebookBrowser || isMessengerBrowser) {
      // Get current URL
      var url = window.location.href;

      // Try to force open in external browser
      window.open(url, '_system', 'location=yes');

      // Fallback - suggest copy/paste URL
      setTimeout(function() {
        document.body.innerHTML = '<div style="text-align:center; padding:20px;">' +
          '<h2>For the best experience, please open this page in Chrome or Safari</h2>' +
          '<p>Copy this link and paste in your browser:</p>' +
          '<p><strong>' + url + '</strong></p>' +
          '</div>';
      }, 1000);
    }
  })();
</script>
<style>
    /* Add more padding at the bottom to accommodate the fixed footer */
    body {
        padding-bottom: 120px !important; /* Increased padding for more space */
    }

    /* Create proper spacing for the content area */
    #capture-area {
        margin-bottom: 50px; /* Increased margin */
    }    /* Ensure screenshot button has space above the footer */    #screenshot-btn, #cross-check-btn {
        margin-bottom: 5px; /* Consistent with CSS file */
    }

    /* Modal styles */
    #cross-check-modal {
        transition: opacity 0.3s ease-in-out;
    }    /* Canvas container styles */
    #pdf-container canvas {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 0 auto;
    }

    /* Improved canvas container for better responsiveness */
    .overflow-x-auto {
        -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    }

    /* Mobile optimizations for modal */
    @media (max-width: 640px) {
        #cross-check-modal .max-w-3xl {
            width: 95%;
            max-height: 85vh;
        }
        #pdf-container {
            padding: 0.5rem;
        }
        #pdf-container canvas {
            width: 100% !important;
            height: auto !important;
        }
    }
</style>
</head>
<body class="bg-black text-white flex flex-col items-center justify-center min-h-screen p-4 sm:p-6" style="background-image: url('https://i.postimg.cc/yWq3K43q/4d4883bf150f7162cc97c2c822f7cb24.jpg'); background-size: cover; background-attachment: fixed;">
    <div id="toast-container" class="toast-container"></div>

    <div id="capture-area" class="flex flex-col items-center w-full max-w-4xl">
        <h1 class="text-3xl font-bold mb-6 text-center">SPRING-25 MIDTERM SCHEDULE</h1>

        <!-- Modified structure for mobile layout -->
        <div id="course-inputs" class="w-full mb-4">
            <!-- Each row contains course code, section, and add button -->
            <div class="input-row">
                <input type="text" placeholder="Course Code" class="course-code bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <input type="text" placeholder="Sec" class="section bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <button class="add-course bg-yellow-300 text-gray-800 p-3 rounded mb-2 w-full flex items-center justify-center hover:bg-yellow-400 transition">
                    <i class="fas fa-plus mr-2"></i>ADD
                </button>
            </div>
            <div class="input-row">
                <input type="text" placeholder="Course Code" class="course-code bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <input type="text" placeholder="Sec" class="section bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <button class="add-course bg-yellow-300 text-gray-800 p-3 rounded mb-2 w-full flex items-center justify-center hover:bg-yellow-400 transition">
                    <i class="fas fa-plus mr-2"></i>ADD
                </button>
            </div>
            <div class="input-row">
                <input type="text" placeholder="Course Code" class="course-code bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <input type="text" placeholder="Sec" class="section bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <button class="add-course bg-yellow-300 text-gray-800 p-3 rounded mb-2 w-full flex items-center justify-center hover:bg-yellow-400 transition">
                    <i class="fas fa-plus mr-2"></i>ADD
                </button>
            </div>
            <div class="input-row">
                <input type="text" placeholder="Course Code" class="course-code bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <input type="text" placeholder="Sec" class="section bg-white text-gray-800 p-3 rounded mb-2 w-full text-center" autocomplete="off">
                <button class="add-course bg-yellow-300 text-gray-800 p-3 rounded mb-2 w-full flex items-center justify-center hover:bg-yellow-400 transition">
                    <i class="fas fa-plus mr-2"></i>ADD
                </button>
            </div>
        </div>

        <button id="add-more-btn" class="bg-yellow-300 text-gray-800 p-3 rounded mb-6 w-full max-w-xs sm:w-auto sm:px-6 hover:bg-yellow-400 transition">+ Add More</button>

        <div class="w-full overflow-x-auto table-container">
            <table id="exam-schedule" class="min-w-full bg-opacity-70 bg-black border border-white text-center">                <thead>
                    <tr class="border-b border-white">
                        <th class="px-3 py-3 text-center align-middle">Date</th>
                        <th class="px-3 py-3 text-center align-middle">Time</th>
                        <th class="px-3 py-3 text-center align-middle">Course</th>
                        <th class="px-3 py-3 text-center align-middle">Section</th>
                        <th class="px-3 py-3 text-center align-middle">Classroom</th>
                    </tr>
                </thead>
                <tbody id="schedule-body">
                    <!-- Exam schedule rows will be added here by JavaScript -->
                </tbody>
            </table>
        </div>
    </div>    <div class="flex flex-wrap gap-3 justify-center">
        <button id="screenshot-btn" class="bg-yellow-300 text-gray-800 p-3 rounded mt-4 w-full max-w-xs sm:w-auto sm:px-6 flex items-center justify-center hover:bg-yellow-400 transition">
            <i class="fas fa-camera mr-2"></i>Screenshot
        </button>
        <button id="cross-check-btn" class="bg-blue-500 text-white p-3 rounded mt-2 sm:mt-4 w-full max-w-xs sm:w-auto sm:px-6 flex items-center justify-center hover:bg-blue-600 transition">
            <i class="fas fa-file-pdf mr-2"></i>Cross Check
        </button>
    </div>

    <!-- Cross Check Modal -->
    <div id="cross-check-modal" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden flex items-center justify-center p-2 sm:p-4">
        <div class="bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto overscroll-contain">
            <div class="sticky top-0 z-10 flex justify-between items-center p-4 border-b border-gray-700 bg-gray-800">
                <h3 class="text-xl font-bold text-white">Exam Schedule Cross Check</h3>
                <button id="close-modal-btn" class="text-gray-400 hover:text-white p-2">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="pdf-container" class="p-3 sm:p-4"></div>
        </div>
    </div>

    <!-- Add the footer -->
    <footer class="text-center fixed bottom-0 left-0 right-0 shadow-lg footer">
        <a href="https://github.com/itzMRZ" class="flex items-center justify-center gap-2 text-sm font-bold transition-colors duration-300">
          <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd"
                  d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                  clip-rule="evenodd"/>
          </svg>
          By MRZ        </a>    </footer>    <!-- PDF.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        // Initialize PDF.js worker
        if (window.pdfjsLib) {
            window.pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
            console.log('PDF.js initialized with worker');
        }
    </script>

    <!-- JavaScript modules -->
    <script src="js/utils.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/data.js"></script>
    <script src="js/dropdown.js"></script>
    <script src="js/pdf-helper.js"></script>
    <script src="js/pdf-viewer.js"></script>
    <script src="js/main.js"></script></body>
</html>